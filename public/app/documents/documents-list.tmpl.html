<!-- Include Nav Bar -->
<div ng-include="'app/navigation/nav-bar.tmpl.html'"></div>


<!-- Setup grid row in fluid container -->
<div class="container-fluid">
   <div class="row">
      <div class="col-sm-10 col-sm-offset-1 main">

         <!-- START CONTENT AREA =============== -->
         <h3 class="content-header">
            <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
            &nbsp {{ctrl.itemCount}} Documents

            <!-- Header buttons -->
            <div class="btn-group pull-right">
               <a class="btn btn-primary btn-sm" href="#/documents/edit/0" role="button">
                  <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                  New
               </a>
               <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                  Bulk Actions
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="" ng-click="ctrl.deleteSelection()">Delete Selected</a></li>
               </ul>

            </div>
         </h3>

         <div class="table-responsive">
            <table class="table table-hover table-condensed">
               <thead>
                  <tr>
                     <th>
                        <a role="button" ng-click="ctrl.selectAll(ctrl.nextCheckAll)">
                           <span class="glyphicon glyphicon-check" aria-hidden="true"></span>
                        </a>
                     </th>
                     <th>Number</th>
                     <th>Rev.</th>
                     <th>Title</th>
                     <th>Description</th>
                     <th>Document Type</th>
                     <th>Part Type</th>
                     <th>Project</th>
                     <th>Created</th>
                     <th>By</th>
                     <th>Actions</th>
                     <th> </th>
                  </tr>
               </thead>
               <tbody>
                  <!-- ======== ng-repeat LOOP start ========== -->
                  <tr ng-repeat="document in ctrl.items">
                     <td>
                        <input type="checkbox" ng-model="document.selected">
                     </td>
                     <td>
                        <a class="btn btn-sm" ng-href="#/documents/detail/{{document._id}}" role="button">
                           <span id="table-row-icon" class="glyphicon glyphicon-file" aria-hidden="true"></span> {{document.documentNum}}
                        </a>
                     </td>
                     <td>{{document.revision}}</td>
                     <td>{{document.title}}</td>
                     <td>{{document.description}}</td>
                     <td>{{document.docType}}</td>
                     <td>{{document.partType}}</td>
                     <td>{{document.project}}</td>
                     <td>{{document.createdDate | date: 'short'}}</td>
                     <td>{{document.author}}</td>

                     <td>

                        <span class="dropdown">
                           <a id="drop1" href="" class="dropdown-toggle btn btn-sm" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false">
                              <span class="glyphicon glyphicon-chevron-down"></span>
                           </a>
                           <ul class="dropdown-menu pull-right" role="menu" aria-labelledby="drop1" ng-switch="document.status">
                              <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-switch-when="DISABLED" ng-click="ctrl.setItemStatus(document._id, $index, 'ENABLED')">Enable</a></li>
                              <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-switch-when="ENABLED" ng-click="ctrl.setItemStatus(document._id, $index, 'DISABLED')">Disable</a></li>
                              <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="ctrl.editItem(document._id)">Edit</a>
                              </li>
                              <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="ctrl.deleteItem(document._id, $index)">Delete Document</a>
                              </li>
                           </ul>
                        </span>

                     </td>
                  </tr>
               </tbody>
            </table>
         </div>

         <!-- END CONTENT AREA ================= -->
      </div>
   </div>
   <!-- END Row -->
</div>
<!-- END container-flud -->
